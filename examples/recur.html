<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>递归</title>

		<style>
			.code {
				margin: 20px;
			}

			.tip {
				color: darkorange;
			}

			.cls1 {
				background-color: red;
			}

			.cls2 {
				background-color: green;
			}

			.cls3 {
				background-color: blue;
			}
			.first{
				background:#ccc;
				margin:2px 0;
				padding:5px;
			}
			.secondct{
				background:#ff9900;
				padding:5px 20px;
				margin:5px 0;
			}
			.second{
				padding:5px;
				background-color:beige;
			}
		</style>
	</head>

	<body>
		<h2>递归指令</h2>
		<div class="view">
			<button e-click="show">show</button>
			<!-- <h3>简单使用</h3>
			<div x-recur="ritem">
				<span class="{{cls}}">{{title}}</span>
			</div>
			<h3>复杂使用</h3>
			<div x-recur="ritem1">
				<ul class="{{cls}}">
					<li x-repeat="items">{{title}}</li>
				</ul>
			</div> -->
			<!-- <h3>递归带数组</h3>
			<div x-repeat='items'>
				<div class='first'>{{title}}</div>
				<div class='secondct' x-recur='items'>
					<div class='second'>{{title}}</div>
				</div>
			</div> -->
		</div>
	</body>
	<script type='module'>
		import{nodom,Module} from '../dist/nodom.js'
		class Module1 extends Module{
			template(){
				return `
					<div>
						<h3>简单使用</h3>
						<!-- <div x-recur={{ritem}} nid={{id}}>
							<span class="{{cls}}">{{title}}</span>
						</div> -->
						<!-- <h3>复杂使用</h3>
						<div x-recur="ritem1">
							<ul class="{{cls}}">
								<li x-repeat="items">{{title}}</li>
							</ul>
						</div> -->
						<h3>递归带数组</h3>
							<for cond={{ritem2}}>
								<recur class='secondct' cond={{items}} nid={{id}}>
									<div class='second'>id is:{{id}}-{{title}}</div>
								</recur>
							</for>
						</div>
				`
			}
			data = {
				show: 1,
				ritem: {
					title: "第一层",
					cls: "cls1",
					ritem: {
						title: "第二层",
						cls: "cls2",
						ritem: {
							title: "第三层",
							cls: "cls3",
						},
					},
				},
				ritem1: {
					cls: "cls1",
					items: [{ title: "数据11" }, { title: "数据12" }],
					ritem1: {
						cls: "cls2",
						items: [{ title: "数据21" }, { title: "数据22" }],
						ritem1: {
							cls: "cls3",
							items: [{ title: "数据31" }, { title: "数据32" }, { title: "数据33" }],
						},
					},
				},
				ritem2:[
					{
						title:'aaa',
						id:1,
						items:[{
							id:1,
							title:'aaa1',
							items:[
								{title:'aaa11',id:11,items:[
									{title:'aaa111',id:111},
									{title:'aaa112',id:112}
								]},
								{title:'aaa12',id:12},
								{title:'aaa13',id:13}
							]},{
							title:'aaa2',
							id:2,
							items:[
								{title:'aaa21',id:21},
								{title:'aaa22',id:22}
							]}
						]
					},{
						title:'bbb',
						id:2,
						items:[{
							title:'bbb1',
							id:10,
							items:[
								{title:'bbb11',id:1011},
								{title:'bbb12',id:1012}
							]},{
							title:'bbb2',
							id:20,
							items:[
								{title:'bbb21',id:201},
								{title:'bbb22',id:202}
							]}
						]
					}
				]
			}
			methods = {
				show: function (dom, model) {
					console.log(model);
					model.set("show", 1);
				}
			}
		}

		nodom(Module1,'div');

	</script>
</html>
